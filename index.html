<!DOCTYPE html>
<html>
<head>
    <title>Animated Cosmic Mandelbrot</title>
    <style>
        canvas {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <canvas id="fractalCanvas"></canvas>

    <script>
        const canvas = document.getElementById("fractalCanvas");
        const ctx = canvas.getContext("2d");

        const width = canvas.width;
        const height = canvas.height;

        let maxIterations = 1000;
        let zoom = 1;
        let offsetX = -width / 2;
        let offsetY = -height / 2;

        function mandelbrot(x, y) {
            let real = x;
            let imag = y;
            for (let i = 0; i < maxIterations; i++) {
                const real2 = real * real;
                const imag2 = imag * imag;
                if (real2 + imag2 > 4) return i / maxIterations;
                imag = 2 * real * imag + y;
                real = real2 - imag2 + x;
            }
            return 1;
        }

        function drawMandelbrot() {
            for (let x = 0; x < width; x++) {
                for (let y = 0; y < height; y++) {
                    const real = (x + offsetX) / zoom;
                    const imag = (y + offsetY) / zoom;
                    const color = mandelbrot(real, imag);
                    ctx.fillStyle = `hsl(${color * 360}, 100%, 50%)`;
                    ctx.fillRect(x, y, 1, 1);
                }
            }
        }

        function animate() {
            maxIterations += 5; // Increase iterations for more detail
            zoom *= 1.05; // Zoom in
            drawMandelbrot();
            requestAnimationFrame(animate);
        }

        animate(); // Start the animation
    </script>
</body>
</html>
